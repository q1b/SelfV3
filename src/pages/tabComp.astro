---
import TabComp from "../components/INDEX/Tab_Component/index.astro"
import Head from "../components/INDEX/Header/Head.astro"
---
<html lang="en">
<head>
  <Head/>
  <style>
  body {
  max-width: 40rem;
  padding: 0 1rem;
  font-size: 125%;
  line-height: 1.5;
  margin: 1.5rem auto;
  font-family: Arial, sans-serif;
}

* {
  color: inherit;
  margin: 0;
}

[role="tablist"] {
  padding: 0;
}

[role="tablist"] li, [role="tablist"] a {
  display: inline-block;
}

[role="tablist"] a {
  text-decoration: none;
  padding: 0.5rem 1em;
}

[role="tablist"] [aria-selected] {
  border: 2px solid;
  background: #fff;
  border-bottom: 0;
  position: relative;
  top: 2px;
}

[role="tabpanel"] {
  border: 2px solid;
  padding: 1.5rem;
}

[role="tabpanel"] * + * {
  margin-top: 0.75rem;
}

*:focus {
  outline: none;
  box-shadow: inset 0 0 0 4px lightBlue;
}

@media (max-width: 550px) {
  
  [role="tablist"] li, [role="tablist"] a {
    display: block;
    position: static;
  }
  
  [role="tablist"] a {
    border: 2px solid #222 !important;
  }
  
  [role="tablist"] li + li a {
    border-top: 0 !important;
  }
  
  [role="tablist"] [aria-selected] {
    position: static;
  }
  
  [role="tablist"] [aria-selected]::after {
    content: '\0020â¬…';
  }
  
  [role="tabpanel"] {
    border-top: 0;
  }
}
</style>
</head>
<body>
  <div class="bg-slate-900 h-screen flex w-full items-center justify-center">
   <TabComp /> 
  </div>
  <script>
  // Get relevant elements and collections
const tabbed = document.querySelector(".tabbed");
const tablist = tabbed.querySelector("ul");
const tabs = tablist.querySelectorAll("a");
const panels = tabbed.querySelectorAll('[id^="section"]');
let animationEnter = [];
// The tab switching function
const switchTab = (oldTab, newTab) => {
  newTab.focus();
  // Make the active tab focusable by the user (Tab key)
  newTab.removeAttribute("tabindex");
  // Set the selected state
  newTab.setAttribute("aria-selected", "true");

  newTab.classList.add("shadow-project", "font-semibold");
  newTab.classList.remove("text-white/40");
  oldTab.removeAttribute("aria-selected");
  oldTab.setAttribute("tabindex", "-1");
  oldTab.classList.add("text-white/40");
  oldTab.classList.remove("shadow-project", "font-semibold");

  // Get the indices of the new and old tabs to find the correct
  // tab panels to show and hide
  let index = Array.prototype.indexOf.call(tabs, newTab);
  let oldIndex = Array.prototype.indexOf.call(tabs, oldTab);

  if (Math.sign(oldIndex - index) === -1) {
    // Left To Right Direction
    if (animationEnter[index] === undefined) {
      animationEnter = panels[oldIndex].animate(
        {
          transform: ["translateX(0px)", "translateX(-40px)"],
          opacity: [1, 0],
        },
        {
          duration: 400,
          fill: "both",
          easing: "cubic-bezier(0.1, 0.32, 0, 1.08)",
        },
      )
      animationEnter.onfinish = function () {
        panels[oldIndex].style.display = "none";
        panels[index].style.display = "block";
        panels[index].animate(
          {
            transform: ["translateX(40px)", "translateX(0px)"],
            opacity: [0, 1],
          },
          {
            duration: 250,
            fill: "both",
            easing: "cubic-bezier(0.6, 0.01, 0.01, 1.29)",
          },
        );
      }
    } else {
      animationEnter.play();
      animationEnter.onfinish = function () {
        panels[oldIndex].style.display = "none";
        panels[index].style.display = "block";
        panels[index].animate(
          {
            transform: ["translateX(40px)", "translateX(0px)"],
            opacity: [0, 1],
          },
          {
            duration: 250,
            fill: "both",
            easing: "cubic-bezier(0.6, 0.01, 0.01, 1.29)",
          },
        );
      }
    }
  } else {
    // Right To Left Direction
    panels[oldIndex].animate(
      { transform: ["translateX(0px)", "translateX(40px)"], opacity: [1, 0] },
      {
        duration: 400,
        fill: "both",
        easing: "cubic-bezier(0.1, 0.32, 0, 1.08)",
      },
    ).onfinish = function () {
      panels[oldIndex].style.display = "none";
      panels[index].style.display = "block";
      panels[index].animate(
        {
          transform: ["translateX(-40px)", "translateX(0px)"],
          opacity: [0, 1],
        },
        {
          duration: 250,
          fill: "both",
          easing: "cubic-bezier(0.6, 0.01, 0.01, 1.29)",
        },
      );
    };
  }
};

// Add the tablist role to the first <ul> in the .tabbed container
tablist.setAttribute("role", "tablist");

// Add semantics are remove user focusability for each tab
Array.prototype.forEach.call(tabs, (tab, i) => {
  tab.setAttribute("role", "tab");
  tab.setAttribute("id", "tab" + (i + 1));
  tab.setAttribute("tabindex", "-1");
  tab.parentNode.setAttribute("role", "presentation");

  // Handle clicking of tabs for mouse users
  tab.addEventListener("click", (e) => {
    e.preventDefault();
    let currentTab = tablist.querySelector("[aria-selected]");
    if (e.currentTarget !== currentTab) {
      switchTab(currentTab, e.currentTarget);
    }
  });

  // Handle keydown events for keyboard users
  tab.addEventListener("keydown", (e) => {
    // Get the index of the current tab in the tabs node list
    let index = Array.prototype.indexOf.call(tabs, e.currentTarget);
    // Work out which key the user is pressing and
    // Calculate the new tab's index where appropriate
    let dir =
      e.which === 37
        ? index - 1
        : e.which === 39
        ? index + 1
        : e.which === 40
        ? "down"
        : null;
    if (dir !== null) {
      e.preventDefault();
      // If the down key is pressed, move focus to the open panel,
      // otherwise switch to the adjacent tab
      dir === "down"
        ? panels[i].focus()
        : tabs[dir]
        ? switchTab(e.currentTarget, tabs[dir])
        : void 0;
    }
  });
});

// Add tab panel semantics and hide them all
Array.prototype.forEach.call(panels, (panel, i) => {
  panel.setAttribute("role", "tabpanel");
  panel.setAttribute("tabindex", "-1");
  let id = panel.getAttribute("id");
  panel.setAttribute("aria-labelledby", tabs[i].id);
  panel.style.display = "none";
});

// Initially activate the first tab and reveal the first tab panel
tabs[0].removeAttribute("tabindex");
tabs[0].setAttribute("aria-selected", "true");
panels[0].style.display = "block";
  </script>
</body>
</html>